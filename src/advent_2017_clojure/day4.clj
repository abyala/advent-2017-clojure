(ns advent-2017-clojure.day4
  (:require [clojure.string :as str]))


(defn valid-passphrase? "Returns true if all words in the vector are unique"
  [words]
  (every? #(= (second %) 1) (frequencies words)))

(defn count-valid-passphrases "Counts the number of valid passphrases, based on a tranformation function on each word"
  [transform-fn passphrases]
  (count (filter (fn [words] (valid-passphrase? (map transform-fn words)))
                 passphrases)))

; This is ugly/confusing, but it shows how to use def to reference a function, and defn to define a new one.
; In "real" production code, I think I'd probably expand the low-security-algorithm for better readability.
(def low-security-algorithm "Low-security passphrase check that does not modify input passphrases"
  identity)
(defn high-security-algorithm "High-security passphrase that searches for anagrams of input passphrases"
  [passphrase] (apply str (sort passphrase)))

(defn parse-spaced-lines "Parses a string into lines of spaced strings"
  [doc]
  (map (fn [line] (str/split line #" "))
       (str/split doc #"\n")))

; Test cases
(assert (true? (valid-passphrase? ["aa" "bb" "cc" "dd" "ee"])))
(assert (false? (valid-passphrase? ["aa" "bb" "cc" "dd" "aa"])))
(assert (true? (valid-passphrase? ["aa" "bb" "cc" "dd" "aaa"])))

; Actual data
(def INPUT_DATA "nyot babgr babgr kqtu kqtu kzshonp ylyk psqk\niix ewj rojvbkk phrij iix zuajnk tadv givslju ewj bda\nisjur jppvano vctnpjp ngwzdq pxqfrk mnxxes zqwgnd giqh\nojufqke gpd olzirc jfao cjfh rcivvw pqqpudp\nilgomox extiffg ylbd nqxhk lsi isl nrho yom\nfeauv scstmie qgbod enpltx jrhlxet qps lejrtxh\nwlrxtdo tlwdxor ezg ztp uze xtmw neuga aojrixu zpt\nwchrl pzibt nvcae wceb\nrdwytj kxuyet bqnzlv nyntjan dyrpsn zhi kbxlj ivo\ndab mwiz bapjpz jbzppa\nhbcudl tsfvtc zlqgpuk xoxbuh whmo atsxt pzkivuo wsa gjoevr hbcudl\ngxhqamx dradmqo gxhqamx gxhqamx\nyvwykx uhto ten wkvxyy wdbw\nkzc ndzatgb rlxrk hfgorm qwgdky ndzatgb rhvyene qaa wxibe qwmku nmxkjqo\nqwx ubca dxudny oxagv wqrv lhzsl qmsgv dxs awbquc akelgma\nrrdlfpk ohoszz qiznasf awchv qnvse\nggsyj czcrdn oolj sibjzp ibzjps asp\nvbcs ypgzae xcvpsr ptvb leoxqlq zmpt fhawu yfi tvbp\nejkr qlmag nsz jwpurli nhsml asksnug mes\nkkgkjml kklmgjk kjgpx iquytbj eccceb mfv iuyqjbt ovv\nuoklkco zzey sdfhiyv ytdeg\nazr mjv raz arz rdfb\npir dafgsah dafgsah kndjbml estcz yjeoijp kkcws ebq puwno\niqymwc tac vlqc bmnkz xustm leqi\ngwdjed cfha axz xjuq\nabfjsg pahat qlj zan qsfn iozfys jnvu bis jakggq\nafwuejn zrbu zurb hrn lwvjb jnwixla aufejnw\nvkqn cuzf humhriz webnf uzfc zfuc\neznxd kgbfy jqyc net vzfege tprzyc\nmqnapzn vrgw ilzp vgw\naie zkkih fhpwu bbn fhpwu wvxxgmd\nksoasrn yll mvdjxdo wydymx dmodvjx drnjlm tcjpjhj xzakb wrsbuwl vaygdwf rsasonk\nqahbh tfhkl apdqqpm tfhkl nsox\nxkelwve mvdmesj xrto tgku gkb bpe\nnni nyylpu cyusxe zydeyok yokzdye xiscesy\nitwsfr eqwrx igqkvif whklwdb\nlpa hwci suwqfln xis sfht lzek ajecd\nsvpf eulute eya gvmsd app claria tjtk zjt agdyemi bixewo\ngmzglxi zlgouy bejg kte xlf giquj mjeq ivjkw ktbhaga hoffyrt\nwwjy dtf ftd agei yde xhbfo fyridy\ngexcy hetkz ufflrfi frifluf plb kqre etxo elg henqy fspm\nkhaemn buec ichau wxctsxg\ncgmv ujyvcuu jta yux ccx skrafkn cmyc yidqhv ltb ycnajry zitq\nybsahqn pio veeze vdztjz iedou pio sue ijbz gvqncl vpa ijbz\nhkfi xzrsyke hikf mxolx xlxmo ungfc tst xjzd\ntpx ioprco qixlv ipocro\noahmwrv homvraw vws ntmbdvx\nfxlg wnuz ogt bxgtul vmfh nwuz glfx tgxdq bxfv kajuh\nvrhqn nrqvh tgogb vya ragbro ulrz uava kexoi yav vkfe\nbxxy tyxgxd oabsud bauosd jlch bdmrqq wqhjwb ayblb hclj\nsfzsgsc sfzsgsc jbrvh sfzsgsc bdhy\nwixleal vhnqbfw qwfnhbv woco oowc\nexkkwz wekxzk krxbua nshxqgh\ngkn blxgui nkg gnk\notsa isqn otsa isqn\nude xedl ude xedl amkktp\nteroe yuvbd inf mpytuvz xiq xqi ovqetn\nzyq ybeifwx fvoqp vhoduy bcq wbxl\nzymiid vafcqv vjbmekf lgxkma bjti qfavcv iqp fnbu lakmgx\nrkaqvd vylkh jfdxh imxxg bbrt imxxg rkaqvd\nyajg qnhhs bzmb eyk hijcg tkij iwr jvwp dipzd jvwp\nbtzhw zttheyo ravsbz bmbba majoe ykrs tbxqf tai cgsvpu srbavz\nvsyczfs ymg vsyczfs wxlwaqb oouio owek wxlwaqb azvbqiq\nghrapd ghrapd wisq wisq\nznmleu aztnkbs wxc gycxd vqenhh geqyo rpjg\nkxbom gzz zzg zgz\ndfsesc okwb dfsesc okwb\negpwqbe djlk xpkxa hoo eepbqwg\nnxdfror yfhkhn zgea fkspva rjgg bnmq ddsf rjgg gkinm\nvdrxfom wbdwu dhkt xtvzc zjobo aqvgrt\nsvddsgz mhcrbcp wmpd mhcrbcp klim ddlnxv wrdftrc ddow wrdftrc\nobxr wscs new brxo wen epns cvjvxts ilnc\nrwezl vmbut kgblt xfg vnhlebq nzqdzxm ynh wokrezy zub nzzqxdm\nvephajp bzupele mltzglh sbgn vephajp lhve mltzglh\nslajp kyaf vlnvy srfietn ayfk inaufex fanuexi\nvazwg kjg qanzso ptuu vvlwq uupt kohhql jkg\nxmmmpky rbqimi slvxsf tlcwm pbf pks iucx rbmiqi\nirkup jvu tkeioz avdu suxamf\ntmgih ldca jswka dblzzt rap rgqyy gyrqsk nnnn pok\npdbjhrl gsvxbqr nqfkhtc ngn okbgzd pdbjhrl oostjtm okbgzd\nmzqfdat dujh aeplzqh acbguic vlzdt amyszu amyszu jqecky bhl hjqnimq xoy\ndszafr bqampg epozj sfrlpe dszafr wfurku sotjpg wagtnxy\njbmo jbmo plbfkvw bkc jbmo\nehelldu vrid unnf vrid xqiu tbibjyi bmbpsmq tpqyefx xqiu\nrpgm zzbj cjgfdyb bdjfgcy rzqecd miyvfbu aqlkagf hsuxwgl\ngvywzp phvnd ypwypbm yfelxx egbr lcfyz hecdhkj xxfley\ntsmebin tbsnmie mkijj ijjmk\ncghxrqs vzxle wrfghv skighgt zviteab plcrgv\nezdirp rxkw horcek qcgny inx nikb tigzp\neidk sactjci sre vkapava owvf eyds eyds\nvvjdm uye tjixj azklizl pnb\ntcrimv xye twii xye twii tad\nmtxcg lwjxdj zjudqu ekoujd ysf ajtfta dkj lwjxdj\naowhmvv kkic kjize fnohl ukx remfmii usbp\nwkossu limxmhp xnoeocb wkossu lnrlqf kjozfg xeulstx sjncsw ekaimuv xnoeocb sxjegcg\nlsfe zpewzlc yhjyiay lou ukhi lpwezzc slef zvtidgg kdeseq enka tfvgudr\novfsa vuv tbtorv tbtorv gmxn opspw lli mfzvkv zlyhr oznalr\nkugrpw sduq rdc ciaxwir ylnzwec kugrpw sduq\nobevuau thu jpyfvof rpawwo obevuau gsvoutr quiaei\nxpgua pbxa pxgau kdan\nohyzqk abxgg xozgai nib axozig bni fucgykm jpkswt\njrgu dmozts jrug ufpho\nqojzue uzeojq txuhj eqjzou\nwcvj qwlravl niyxf oiaptlk wlxnnzj jgdzap jgdzap lfgn bdt sfga adrypo\nylah eedu rvwdpmq eedu ylah\nquages kmla yjqua dzxcfam srjag wujmcv qujya ssaol uzdwi\ngdsppz yqxlish yfkjbbf ecnzu ejvtv cdjwre\nslsls pcmrq zax btrc kliv ntho gymkk kkq pcrmq mvnw sjfegpx\nryz jfw eki wvibww qdzylg whbagp ffrfjg wdhnqpm hcrz\ntcjqfh tmvzp mpztv vpmzt\nxood xutgof teqov fqyyub oakm rzaheiq\naxagoq jawbz sexucp sexucp atenr edekcwn edekcwn agl ecj gbje gipivfq\npoqv qopv bos flhghs gshlfh\nrxd dzphnb bwmna vxd rxd sbk kuor\nkqeelq jqbyh xczqzqe jbkmx kelqeq xqcfqn\njdfy qzjyz xvqyo jdfy xvqyo\nvyoqyd pwayqag eygmdt smakwc veftikz fzeikvt\naozgkne mpd mktgoew eepp zlwycr eepp hswbxcx nmi ddnfr eepp\ndgpfp cfhhqdx vjrb uyimbm byx hfdhxqc\nfxq jcouwfy uhuao zsab xjao\nnoudveu egxyuqw hmnnv vovt wmqkx syatiac whkd\ngxyzk opgb kjxp delavq hsnvk kfn irkcfq lvc aadcwy opgb\nexuiupk ddiiyvm nsggpj ddiiyvm nsggpj\nhhjby rfejzp akxzs nconlt rynivtq voloj qwhhll ubvx yxuacz miuwxh ppe\nuspqvx supvxq cekv niddfuw\noptzcag sra ajs ozacptg yxkludq jjpvldz mxo mox\ndko qyec iuxbrbj dlz jxribub\nywlyz vipfh amsfr fwiozi tahjov tap rsea zwlyy oqdyfbo\nxeqml jwy eguc bvzvh\ncrp mxsihvo wwtg gsypx mxsihvo qpfw looca gewvy zjqki tdkuxo crp\nmqlnzm yihsvrl hhtwcv kigymqu yswki hksk vbiujq xeqz irzcq cpnz\nzxhfsw uuyhwid nzabem mmfk wszfhx shxzwf hqnrvsq\nhfjajdl qwmk hjdalfj mwkq gqbku dsszk\nfbiy pujq htgaqqq yro ztpe yiufb fnpi ggchdgz\nsixq jsboan eoie msdrwzw sixq njsrc sixq yimqoi\npbxgv kqmi hjuk bbtrlta bqwm bgehofj ainqhm qoypsil manhiq ogebhfj lvmuo\nwnax aen fthpcke tcz yadjmva mydavaj rcfkc krfcc\nlkatiw zxliii usdj oopxl yylv bkjfy gtlyjv usdj muqazdb\nyqonaxv wqnvoo hfpll oyxnlfs fgajc khhtzr hfpll gsvvipz wbjxsnp dcdikt hqw\nvvuv kspmnz zvmryqd egvuz eazkhz kspmnz\nxgq dziwiym gsl nbzmsta ccbzn yalof dbbugq aar ywmbvk yofla dcwb\nqrtyhhw xeyo vlym ulzzbl hrxyb qeyu jqdkewk oxye evaxz kybc bssyt\neqrf cfyy kwhohw ozg jsc egz jsc\nvct cet ixxvmz ibhvndq eks dpi jzfwdqv saeh jqzdfwv vwfdqjz\nvus vus kitvvgq wpi alfncf gzj oxcy fith oxcy ecbsr\nuacculk guwhwdp cankcv yswy bmby sve dvonm nran\nydftm wszgaex rgbw otd dbet lhsxndd jqfyx\nvhawg hwagv uagy fveik nrsew zujw hawvg dzfmt agzgw\nuqdj talb uqdj aizyuqm\npbbejee szdtohv tycfow xwne qzlqy dxcwejz pqdqrc wfyotc gdqt uxaeug wtldm\nhmzmd oyp pyo opy\nqwdh kwpll kwpll zsbez uxg klr uxg\nmyqr zza kqpcos adsql eumunrv qlaeumx\nacyye xvdewe nwkhuz bzcmx asw ostiwk mfzu nwkhuz\nmemq uqadd kfj dses lrxb hxygp dsse bxbr hgpxy uavrar\nmjmk lsdttuz qjkg yfthmkn pram\npctfq aly usim shihap uims xkfgp ksrbn ifvsyl\ncdma nnnu hdm dhm\nkpt upgsm ohvrrqf qwps wjcbve ohvrrqf\nwowphgb nteme otizypb eumgvb puoctli opicult wbohwpg\nfppz ftkql sbut lkqtf svif viqhlnn buts lljhbd\noqk uinby rqy vbjhf oul hzfo coca glpy brjy yglp qnvhvei\nsbbwr dnyrux gpikv nsx aawyeq uhtucwq rhxzy jgx bdgdrl dnyrux lgfgi\nagn mljz hgmglem popu jtapub agn\nehfpgr bnobvg bnobvg bnobvg\nozgzedn godezzn art atr\nurz rzu xzyc rjhwi kgiodi doiigk layr dwbxu\nrkcbav pnp bpsmm ifivfe csouqpw fyswzbd csouqpw bnjt rnnoxed\nhpjgtcc ctcpgjh cchjtgp lxn\ncinokbx uyaz uyaz uyaz\nbphfwad bphfwad bphfwad yml izlhlb dvjvo jeropar\nocgftcl wshjk zbinw fcotlgc xdj nwibz\nzbze hllno rmq invd gupoxr gwumc vnzj fcvvhjo dnn sfsxw\noqlhkz hgf yxiahks vhzvl ayshkxi irmwkmq\napeqic ahwu abxjrd tuwrd pynnil eohmlgo lafx ybpofe wbznxv swuafas\ncpg jpsfo jposf rer ixeydpz\nrhqrwvn wrhqnrv xptms jhc rnqvhwr\nzfpl tukxzda lifkqtd ynfuno cttx ctxt tlqdkfi ueswv wbipfbe\neblw bwbjg fuu qqm qtv qtv isbl denfcb\nick yqwcffk pvcchd apkjyc ouu uyfe nplid ick caqscs sddkx\nrtzh idn snnw xmlou idn kdhenl rtzh ujwttl pkynkhe\ndnwha fpv dnwha iqi xggepo dnwha\nyjvk saay enxqhw wigoah dzasyr nnt artl iqwia jpp xmfr hwigao\nryt heenuai ytr gqew hyb byh wdurx kmd adgjz\nypdqeji sfkkfhn stms cdmyh nqllx utiphia gxbx zflhtgo yurztx eni\npwlhlt lhlwpt rfkvlgr tucajej ckujc ntcyae xestygt eshmggk\ngtfb codwc vjtli ffmjwx ruoekt cylrm ktroue dfaxzvs kkgejzi ewucgu jyatrum\nersbag cod xssha aqzbe kxu bzghhqk pbs bizvqk bhbbd bps\nvhci ypxf bxzor unngl xilpzpk civh nykora vchi\ncyb cceu negnld nbcfs pxsjgh xah nbcfs nbcfs jabpxg wtanv qhztvr\ncljgzkn lrdeina hrjoz kdgpn vqkmpal nivk scvnu vzuausp\nnif fin uxjbip xxztsn yyo opueh zxs qnso paedey hsd fttvqdn\ngbnkmpr afo aof ryyudy gbmpnrk\nuaa npb dkit npb buadan esv npb hwrj\nhws dfgq fcyty qszhu chyxxl ytmpb azxl jrsn boqrx\nhkzlnkd fkilvog xbubu fbgbp\nfgi inmay uliytc vgkcw qsoe uliytc isjhix oyir ocaq\nqrzkpm dpzetbr zommsxo cixg nwjyvp bet wyjpvn cgxi tsncd\nuvlf lufv ulfv cigl\nuwwf thr kdq fhjmty bvxue vcwwmk kdq nzajq bxkf\nqcwduju idxaja qcwduju idxaja\nfnarz pstzfne nco qzf kcevoo qwx csvsxga pstzfne\ntwug xrwy uoctfl bkh yxrw\nunpdnbe apf cvm bpullu fyels tjpri jyw unpdnbe xfyekay vhk zpyb\nrbv psirdv psirdv mnjrp qpwc vicismd qpwc\nzjj zjj kesyhow eqcfqy vqy\nzazpd gmea aobl dcs mage hqjdpwc bvxr srw\nrhcdb nzsa jgcgc rhcdb wxs vsvvptn zvckqo wxs\nunyet prchn fiwter wvgknes dvzbxfs ufet neuyt fczlrx bpocdci vdsfzbx\nznfev fwrdarx knqkv ojiv ojiv fwrdarx\ntbtlo hdashg kyspxm ypmkxs nmrk\nfzr zqxaszt frz xzrre\nshueb iraetk uhsv duvah uhsv zstysc nrfllbc emrknka\nvzkrmp mgtkjnw njr bwjgp jdwyyhv yudha wbvmx ewu urhiioq\nyjq xxr swvm aipdj apjid tfsq gfqg izrvhev\niljuqt fpo fxadit iljuqt iljuqt\nzrj poewso vsje bsprbmc vsje yfwf ybu dmkqib ybu hlrpdi ymh\napxaeq bgdm mqty whyay mnuzfgk awm bgdm mwwi ekw bgdm\ndpdbfkm crrg mkph kphm grcr ukbk\nilqm wroz mqil qlim\npnlx nwadw uabelu rueamxr wjer uwge jwer ywagrx\nakuil nkh oitq werli werli\nfkmhcr ieoj xfsa xfacoeb tcg poomcme vck zmpc djcqgkf kft\ncsyk qni hqfrye zyyxz ggynzad pjpokmu bigqa qie\nlkpenw zyllii qtbvdq zqnu ichftg xazped agl irhlbiy snlwfe twliar\nacsrba dzz ivylbl rfcdd rfcdd qcg\nzbui fomvpx zjhmgl sivtffu xuhswzt fzeid tgj mzok mozk afbhuje tzswxuh\nnupjiat fdxkbn tuatp jhdfnub yitdk yghqw nupjiat ibi edfv tuixw auwjm\nfocht mnprh tljj ayp\npjdnl uaoworh iqm gic dqlu spn heuymio\nkvg ferrvhp unvzsd qdcpd rji zpch\nnhvay chuzg pyhdd hnmrnq zeidhf pyhdd ohy hnmrnq\nboa sau gxh grx\ngwo utwpd zcsrx gow bnm\nxoqniyd hmithl xoqniyd hmithl\nyqqsbzo stca zcsjnqf skbueeu tlbkef mvqbg igzr wujuz yqqsbzo kkfe\nwgzuepu wge fkrxuag csenx tkngoz wge azueyxs\nget xiryxs xiryxs xiryxs\nwammvx edy hahetl xmvawm dye\nlscxxgi anmax quo cqprwn imocarq gnbfhe rcnqpw\nznpmid yaluvzn ydm ckh uhso rrk wbby lwxsu\natppk byf dzz uift nqejgm njgeqm\ndtqmy iog ahub habu\nhkthdwt pfxlwsu hkthdwt hkthdwt\ntsuiue tsuiue yais tsuiue\nswooqmp rqrcs ngr vujrq inuu rqrcs\ndhu zxdfiyv xuz xuz mgaty mgaty\nkiiiz zco qdv vfgkj rders zco\ntrszp havbm redpeqk gktp ifvzvwl yfoxnm tzg avzd otiouso eks lqlutwb\ncfiru lpdy kpeas mdc lxnjjqz nqyyb xkjsug rcifu dln\njga ijgkjo qhbnupb ofzqn iokjjg gaj lrh pkynrcr jgatk\nbexwc tat tat otsngaa\nfeh mjxbs ehf cyfhlv vvdgdu hef\nnjlvq ojwaes awsejo ktyvxd qeyeze bpoaj ulgngn zyeqee kqc bsdzzvq\nhbfp vnhs vnhs pko pxnxgm\nbmy bzpn bzpn bcfep\ncju nqjy yjqn bbrj esgzw swgl bjrb\ncxvrshm rbglkyv kqwzcyd azqr ckwbbew fhgqv nfk lactzh ssqpwbr wbewbck\nptcb gqkb apcc okl jbbgk qni bqu slydyo qhh dqd osv\nzbisefn bmxcljk bmxcljk arkamus vpq uxuwvb\nksik xbzk lahh ctfur sxh rduokr xqou zwbgqsp skik\nhwhmfk hwhmfk bjpxzg qqftmu ijyv igvayf bjpxzg\naskxqew tibx pqaczy fhzyec echzfy cezfhy\nomzyy mbzfvsn kkoff qgqn crnnkn krx oqp jhn anb qte qxt\njypnwn vjbnbsl axf pldxbq pdoy rmxcvig cpad yhah rzqewkg nmzkkr erjo\nvisidzp bujlfn xuomjj mjnqn wgflg skb\noer oer lfi zyqnem lfi guljz\nfannhwu wafma gcje cvcia qwyh ugtbpa geufqg\nkwtjib pqwai tdmjj kuxr euzl rxuk\novi splc hflutgw hflutgw\ngvel gelv aeiygth elvg twwr kivxrrj jkmqa\nbas ylxbdgn yliv pytkhq haujsyf fggrnbc wsgree rfnppcx key gvdzgfy evdtrrz\noblab wpgm bpyy xuroy qhb adqko\nhneb law uzms fhhk yjymdx wjla ixfh yblh\nqlvsd bxsq hjaq fuwspzu hyshq idbabc rqcih ilixp wft rglf lmqm\nqdskj two ckd qdt hzjvd woo fmmuw\nkumc zywzq srafcbb ihfu kfvav\nqlkkrq qlkkrq qlkkrq qsc\nhob bpecik zqtrfz iqizeu plrer epm zqtrfz xrekeql xrekeql\nwarszd sxyyorh sxyyorh eztjf warszd kszp\nhjbrax liumjue liumjue liumjue\nrfnqd folmiu dlicln pdyk uqd rfnqd\nmjdu lytfvya xomdujn leaqiyc lgemz lihfnhv zgeml koukz luqda\nyqsz zedjmwn aep qwbhd yqsz\netg rmovps abizj yqr kib\nyznxec sfqkd ofkzep njr hmeym nsh xdq\nryoyq heoo zuo udvfev ehoo axcnbpu oeho mfenmd shrebzy\nuaeh jwllsjp frkhqsy uaeh\ngiofw hwceb euikqp ldmb kqpkxwv namazcg hqyyzgs cglsqux\nqledbd qledbd kbwo wgfmgp\nolbsca muxw nxs locsba\ngbxxgj xlzm gws pkpwy ofkxb sykhdo nbhrv\nnajr bfk tbqkm hxabe nvr mdi dmuujr bfil nyripr zcydzy\nkiczhcn dfgylw yzkwk nytijj pceu yukj ekaol xpb uep\nacyyxn rwczsud acyyxn payiek inusyb rwczsud\nmzssokx bshs bshs ocrvlug nzsgvch riejkrd jkj mpmdgsp kvixdfq msmmx\nuaxy wpvhf uaaq ranp vfhwp iik kii nvh\nshecxef nqpx jly dzm qvmpu kxg hdg\nxembm yzevult ljrllc yrlskyk zas wstnz yrlskyk vasra\nyoaxppi kzax hvxfezf mek teo cbtlrfa ncxac yee\ndzfpbi cynov dje vxypba wcwww cwnu cqtp cnuw wwwcw rkzas\nxzwdt jcwv anb xzwdt\nfodgjem fmmrsfl eovsneo etzutda paw fmmrsfl jcqql\nyfztt alcw nwdmd afgknu njxkj zykz cvv jbnl han iatmruu trqls\nyas hpulrmf dzts sltg qsbw fjj rjymnnx dkkv\nhwjtgd abmb cfw xoumxn xnoumx cxo xnxmuo alb\nhnl zgdiip lrddhl fyw mporhtp waedf dltdfmc lyipoth ubmg hnl\nwxard wxard cibp nzquvb muuslvw igvewfh mika wxard\ncjqjhva rrhzy qpdc nqnyd enbdee ewrhp cqdp xekgjai\naxtmxb axtmxb phl urdqaar urdqaar\numce jult bkart dgdvdwc kqzlzn nqkzlz umlxx cmue xvehqag wxifal\nlwsuc ski ubo ksi sik qwcudv\nhusdv tssr gfp bfzbrp jtmk svvdpb uvshd zbnpdmj svpdvb\nnnbvf xbb dobqk xwloqca uxvqti blcwxpu kubwu nognin goywn\nxhe dhddftc ggltd dhddftc wspf\njodq cgvnk lpl wkwwlqd prfby bpyfr tbgyqm\nbdebxj cuvow jdwdxw kuzh dvxmsyb dyvcxo psf kjnoe odfwgfa\nxpfb knzgfsi thmsnbi ymjxn bevohy xpfb\nhphcu fjodpdt mfsp jkvvp jvypar nlud lfv uftupcr nul dunl\nolz ihyhw qntr lwcbohv qntr wzralwl\nkfz pkjhidy msnmwz exox xexo uakipj mmznws zbbji ozispqb\ngfi kwdhx qqo kdxwh fig\nehh rfozwr caoisw qntlk pkv zulc kpv hrqz\nexmlrj aacc rzb qie rzb\nmxyqe cuqz feyd meqyx gdvpu rqyjtvw dmoo vugdp emem\nadvj xmnad uvh ufnbi xmnad xmnad zzwjksx chbrjas hrbp ruvyg\nnasrghk pmol ryko ofgakhd korf vpy nakrsgh\nmylyqg aeizp rnk krlwchk aaqg\nedxursp sosyv zesgnpx zlo sly alurdc ypmez qib aqtt lmxd\nihm hwzhd jhiw raocjk nlxce yzuzu nhudri tvygl tmclg mdkz\npsubdis qrmxebg kdac xvl raxwfx vlx sxme\ntci tphdy tggam vqqiyjz sgfvdri sxhztz fhsmxx yaj ncxcxq tic\nxkljs cuhrm fdjqwd fuzyzh dzuzgjd lzpye lzpey\njriwl ypkcxd fxrg eit okzzzsc yaykarm qzuv jurgek dzfbbfl\nworkf rrw absfl gxluw qprdsz absfl qwqbmi amepvz oiqmy workf\ndxyyb brnerbx lykd oqmz ursl zqom\ncqtuzva aih uhaswd auhwds ktyvc hufogcg\njre fhlgrse svedc prfspaj ghm qcjzfc nsd\nfow xyo vlvg sgg jgzvff rjxh eovre xtupnz\npekj pgiecc igxd zbiqoob ovv\nxofxmz rdzdiq yruoqkh arfunx yruoqkh ucm bxov\nctogwj lpv ivtoxkf faj ctogwj xfzluad ctogwj vvw\nrmc vjxj strgo tykifpp\nulivozu bczond ywnmt shakc yknr psr\nbfx alwedh jfomlf pzj tely alwedh vccsoer rgwftcl vccsoer\nfrkwbv uudwt qsfg onuhiml jrd usu\nbgdx deybefo gdj dgbx luu cbuwawd wqqtq dqmwy gin mhtfgy\nohjp ykemg nrs leayrh brtipx jhop phoj\nutaep ywsy utaep ywsy\nqow dxagjwb qbki bqik\nlarkpq bdgw mly vvwgv\njuar zaerof qekpe hhgd eygru epekq dhgh\nxpblz xksc lzue xksc yid nnve trlndn gjczngs cifqoaf\nfpv ekz eknldf uqjgeu awwnwxu eknldf eknldf txhxv\nmzvk wqtbda ovdbh vnes uiuuc uicuu bpwwtm aaat cygej nio gnl\nrkdkzp bjaxqif xuwx bjaxqif hgtz slkqw rkdkzp ztp xfvgk ycvg\nzpwr wvxzfcd opgcrfc ytxeboe rcqa ehrga lmgm\nbrsdnk nqgkjab nbjkaqg gho zqe\nszbysu oqrtbp wjpuv oqrtbp oqrtbp gjmqq\nuoyi ctscw uoyi ggn ija\nfop lxa cgwpw lyvrxbe tit fop fop kfigqnu\nldqmk rxo ajhrbc ahrcjb xqdk kdxq\nith vdrl kvaxktm grkzmon ith ywbz kmnoiz\nzdoo omjo fbz dveiipw fbz\nivj mcnu tkijlq xkq lrkyit cumn sfkrk numc ezxeeoi\nlcwzdi sbsdgdy olvc olvc bimubzf bimubzf\ncdjd umhwh djdc cddj oxheq veazlm\ngxszn zsgxn azy yaz\nbyvmj mjybv jvxkuy akas uxyjvk\nwhmkttq whgzm gwmzh pkvtljw zgmhw jasudeq\nyyjri fxsj xffmna vbal ftff rwq uszym bznil rfuctp ejndv wqr\ngnwzjbw dezfvq gzkhzkl ivrdvxx wfah xvivrxd qzdvfe\nxnfo zqzn iaod zlcclsd onxf lpskrfk nzqz kqzr kffpwak eky\nmuc tafbzp nra gvzc xiu gvzc\ngfnbnyj nyjbfgn eoosw yjzf\nqwwls sqwwl mxph swwql\ntwor uzjftq twro orwt\nqomjuob bqaim zvfqww cvqzm wwipc zsywb bsqkp aoj fus\nnlyd gtbgox tajlzgs bgtgxo pqt\npjtmgz ulblj ussh gngagba hhtexq bjbj obe xctciay osriw obe shxri\nagc ejjdtak jgq moj agc iua syhxih znavmrc iih qubj\nzxwzwhm lipkqhz bbv birxsj gzg iefrjh mprsfs ofpltbl gbo srpmsf hirm\nrbpgqoe kymrf uzsut gkbtd xctpg qul hirtfl\nwfvg pnqhuv jayjm ftqt mbrotl aydmoc lfwlxk vpvcsi svbn bnsv\njxjxza ysl kls vmt fvgunx hketl oshgie\ndfeyxv akx qagwayp qrs lnulrle rqs gbvd bvdg\naac ndptml oke edwrg aac xechxz\nmpx yrb oervzb ydvkw avlt oervzb bxdqbo hzwls\ndsynfk dsynfk epexzjd epexzjd zofb\nvhe zxfolqk lkh fxt flzkxqo lztwkmo khl\nizlthi wtokkuz ousbpxp pvr uuxueq lvbeff mfk syjq fwgnfmg yytqesm gdd\nkjcg slt khz atzw twpspdx kgyk wgq hjat ntf xvhxol msvdjs\nymm arrggw mmmbvrs ist arrggw nbvvc cwyacp\nkuzglex iemp iemp jsko iemp oqs dheqypr\ntzztq dsxqbow qgaeo kqn dsxqbow qqzpv\nysr fctpiyn psgb gatavv zsfxoxq nynfoh qaimoj zotjk nxug syr\nxvm qvr hdxyhpf cbo xmv lfv wltyjlx\nhjq pohc xgqit tducggu zdqmnc xqgit tqxgi srfyzu vdikqx\nmsiqte ewvp bzrv cmuy gse qqayvb bzrv qehy\nwatdvu ametrc etlduhh vcc luehdth udavtw\njktj mkq jktj mkq\nuekth ufjkmdi qzhge wzwcwk nvrodcc vrcdocn bhcvd\nxumywk zwofh kuxmyw acgzsjj hfowz njnz bnklyi\nhmm fexu fexu hmm\nzeuoarc yoa ggff jazzd mjein yhj qwo qwo\nrolkwf fcyat lwm wqqm juwkt wqqm udj tex xgps nyy pdbkkhb\ngld ksl gld bnsuhqc gld rwmybj\ntvyxk xgmk cri pef epf unsl yktxv\nmuiql ejq taetjkf ejq xzmo wmv qbtmrh hkfbch taetjkf sut\npqg icvv gpq tufd iixd duft\nzekx ybbb gzml vrbwcl opfb fkrv tto cbipr\nmoh stkkf ynrtdf jlgb kstfk ksktf\nnvysvf mdtdoq bqqvr bqqvr\ndqyz mzoqtp gzhdgd symsq iwh bpwox\npkqi jgzsrah yfjxx kdp xjaf lbj gkpixnj tyvzzso qmjbo skg nlchzbk\nculxfx jarwu eiwriu vwvg gvwv sgnasz\nkyfsn dwc sbnoe xwpgjh nbmvec dwc qjdh mpw gefimue fvqjwt kkor\nhcdcgxs fof flc hfpjy lii fihcao pxg xywei jwsq yxr\noxrcv pda oxrcv gdvojsz kmlga mixlmp hdcabsn qvoa fwt\npoe joylchz humrjy cyxbqfm lyk ybrfmp qmtpqyk vtpr lyk vtpr\nffswqs yxbuj tfzkmc yxbuj giog ckubbfy rtigw rtigw rpitxd\nkcvrn eejyftw ejytfew rnckv\nlvk lkv cooumh vlk\nloypv ukowl loypv nyoyfl vehnm uff\ntst sei zovy itdwibj mcbtst wcf rzp xvbtax ffzp xieenuy aegkj\nzkhi hvsbgza xbwtdns wypfngy lvabd pybhcd crczm buikdpo vqgon pynfwyg phbcdy\nihy irxrj entmc yxfhbta xsdv xsdv\nezrcv kfgm pjneez puccy gzpxdlf gkfm yucpc mli xezfug\numjppkq idkiri wmnbhi unl nteyw wmnbhi zyv idkiri shhcrau\ndzj zveqwae ljnikvb baavr dhsohp zveqwae goq zveqwae\nxhc xch bmttdr snd jakd\njmgnvda bdpzfw dfwpzb pimpv blqtbyo lzdzo bgrlfy anmjvdg\nlwvu ksg gqbtibd ksg lwvu ohfzlt foajo apyrcwj uaro\nvel qksrwp zei ipnvd hdua rkspqw bujf\niozkiu upa knmcug zidypn yswb zswkvx naqsu\ntjktoe dqpt pbqi dqpt\nlcl tui uoizm xrdpmwi fbsuuqq tgeac hpajm tegac nczlic\nntmm mskzb arem ntmm jayzfe wyurgsh eqwcqt edhska asxhjv jayzfe\njyq juifidx fokzxh cgo xofhzk nhro xyccuq ioa nwk nqaxpfw\ncvag bpk cuo ocu buehhq tartafi ifs qwh cveurg\nbwut xpfni qzg cmp cid jftawv twiszmo\nzgxc sui kypkd vpam ymxicrw jcfbutd fgx jcfbutd\ntkxn rjqzljh tkxn mdwcho\nqbv zneocv zneocv zneocv\ntywf soncr lyepx qzj xdsr pdqv swt\nulu rdk iomqu dgouoba icax\nddsc oxilqpd ddsc atbekg ouzmxf oxilqpd kwtzz yhmyd otvi\nvtj llnfrpc vfighju urosrsz vurtse llnfrpc qeuo vfighju nnn smsnp tfom\nupdfjmz ngtgi zaitq rqqhcyn ladzx zaitq fbaphyz hipe\nrii fpos atl tal qhubqdv lat\nwhxzwdj yznkngr eefbmub wnxitd tnwxid zja ziewilm xylwn ihhsha lrptuyf\nfhmzaxv mdn udl gyv pqw qlrz flm rqtji\nbgn clnm cnml qyh hhf qqnur sgvigvm\nqjtbysc ycbqjts gbgvlz vgzlgb dgxks qbvp grji dcc\nwmduuq qayymzo zvh ylbipw sin ybwpli ilypwb\nqsvzktt qsvzktt dasmg knh gcgep qai\njxukj qlgr cjssj aavqv\nxpxa glsdfxq ngxwon ytuue pizqu\nfxl vegoed tct luwm ulwm eeovdg\nntmpe auasx vkwgi cryuiix dmiufo fcb ldl jauncf gyouym asjcryc\nlgwdcs eoxm hcrpnuf pcfnhru vlye fpurcnh uquukv vjc\nlfns riwpdh phwxvew hhu jfptvv ofxd hkotgfq\nqvuwnq wnpvs xdivrfz yaenqr fipwgl\nvhcexfd bishqsc gsbruxm yzccyot yjloa aptg vbr gsbruxm ihqhyz yzccyot\nknfst zhihi swhhq zhihi\nqfto abhjx abhjx bpnijn ogmqxn rclqag dmeb rdogx emfriui hyvp ogmqxn\nivaemm wlsc dvjv aivemm xvf shfonv\nvowhosr vptlu ucrut rdynh ttqvhg rdynh abtja pnvdy puxfmf dyhd\nuvrenol ycuhvy ygm fjsxiwo oftstid ygm\nfix qrqeg dfgvlun fix iraxgtt lhgqdo eqkgshd jwmrm qrsbzba\nmxdj icjqzqw fvew gtvlhm mxdj\ncyjtkm crb pmg jwo iluc brc ttnd\ndasmgp ool ool opc\nubi pmz mtkh ibu hlx ipcvjki sydw zpm eewfdeu oga\navex yjaoghv yjaoghv lwwx\nkwkdst iuokd nmpw onayet zlavwnd wwvbr jtrkyku wfxx dumydgh gnd zgi\nahyjnc rjakp bhabq tsmfi ahyjnc tsmfi yitqgi uwnywil shnkbn\nkrr sbbfjtm yvunas hwppsjf ntuuzw ngyvdmt ynk nfq mfrb pyw hngr\neeecesf phoo ijmx sjp kgmtg sjp wyz\nqwixmou oximqwu ixu lsmf\ndyrzq lbstdjv ldvowml qjf fqj zpabc dwmvoll jnq\npdtlu hgcfvz mnwjyq ymi cvcp kmx mkx ooffp uiwg opoff uevqt\nhflomt fhlmto gutdbyp xyi zpggxc wqe\njpsr wwex yjgdj fqah wrmmw nyrnw hcomcgv teajmu emw zrraid\ntvgsca bzgzkga ypsxsk dqz exmu tvgsca dqz qnd\narzn hojpi bznw ejuupe bznw hojpi\nrids dule qaefaon sspit mtzgdls cfujw xldhimi igdoy dule\nnefsys plea obksngc zxqee avsi obksngc vnsxdrl gspadob avsi owmzpeh tcj\noweq fkr krf rfk ztwjdry shzcmew jhna\nhdjizhg dfclic usds luz mcwyj luz qvomls mren otax\npmzzfj pmzzfj wfxyq mqv hyp lhf\ndxeaw ckkey ccvawo keaf izlh oacvcw lgcpgeh kdiky\nxkwe xekw kwex tzfyx\ndmmyt mtdnqw pdw vdav ofrtsk\nklz zlk snxnihg snhigxn zkynpd\nijzce xobf uojezxi xiuojez\nztepv zvpet nije aditjlg natkkk dtitg jprgia\nfesuh wadrhc bayf kktfaf nxvhq smbdaop gqx ioez fkjufb abyf\nhej sta pztkcd pesabzz szp iada iada cdae hej sqst luf\nxlnuhn oljaf fljao ascxez fojal\ndprclb fzn wgauz rxewtp cjrlgz zfn\nfidwoa mvoqy afian ntzokap mkplgy jfukgjv cyfsz\nhbvqnnt giinuzq uezugy qooxjc zsxr rnihg ipbels\nqroi wtltjq suj tqit bxtc jidzhpe nizp wtltjq nadcdm wwyhjrg\nqtr fkbl bpptu baen awjpwsg vvqbxz animt uqbk zvbxvq\nnznq fdiul jbv umyrf yufrm hrl duilf\nbkvlfuw onkqzeo iwrg rifqzhj mgroul rnor qqqc sbfi hny zosfp kopxb\nnvifbx jbowbj fnyskt jbowbj xvun xvun\npiyl haajm stwzpp xvjg amjah\ngye efwwwiv kyv zmtcgmi ifwvwew\ndflx gdtb jyoj jyoj dflx aqhycgi xffnn\ninc mpys mzqmcwx vryz ibqrzc pmsy fat rojpxwy rcbqzi gjef")

(assert (= 325 (count-valid-passphrases low-security-algorithm (parse-spaced-lines INPUT_DATA))))
(assert (= 119 (count-valid-passphrases high-security-algorithm (parse-spaced-lines INPUT_DATA))))